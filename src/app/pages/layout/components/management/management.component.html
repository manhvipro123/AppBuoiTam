<p>
  <button
    tuiButton
    type="button"
    class="tui-space_right-3 tui-space_bottom-3 tui-space_left-3"
    (click)="showCreateDialog()"
    size="s"
  >
    Add New
  </button>
</p>

<div style="padding: 1rem">
  <table class="tui-table">
    <tbody>
      <tr class="tui-table__tr tui-table__tr_border_none">
        <th class="tui-table__th">Id</th>
        <th class="tui-table__th">Name</th>
        <th class="tui-table__th">Price</th>
        <th class="tui-table__th">Description</th>
        <th class="tui-table__th">Quantity</th>
        <th class="tui-table__th">Category Id</th>
        <th class="tui-table__th">Status</th>
        <th class="tui-table__th tui-table__th_last">Action</th>
      </tr>
      @for ( item of productService.prodList;track item){
      <tr class="tui-table__tr tui-table__tr_border_none">
        <td class="tui-table__td tui-table__td_first">{{ item["id"] }}</td>
        <td class="tui-table__td">{{ item["name"] }}</td>
        <td class="tui-table__td">{{ item["price"] }}</td>
        <td class="tui-table__td">{{ item["description"] }}</td>
        <td class="tui-table__td">{{ item["quantity"] }}</td>
        <td class="tui-table__td">{{ item["categoryId"] }}</td>
        <td class="tui-table__td">{{ item["status"] }}</td>
        <td class="tui-table__td tui-table__td_last">
          <button
            icon="tuiIconEdit"
            tuiIconButton
            size="s"
            appearance="primary"
            type="button"
            class="tui-space_right-3"
            (click)="showUpdateDialog(item)"
          ></button>
          <button
            icon="tuiIconSpoilerDeleteLarge"
            tuiIconButton
            size="s"
            appearance="accent"
            type="button"
            (click)="delete(item)"
          ></button>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<ng-template
  [tuiDialogOptions]="{ label: 'Create Item', size: 's' }"
  [(tuiDialog)]="this.openCreateDialog"
>
  <form [formGroup]="createForm" (ngSubmit)="create()">
    <p>
      <tui-input formControlName="name">
        Name
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input-number formControlName="price"> Price </tui-input-number>
    </p>
    <p>
      <tui-input formControlName="description">
        Description
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input formControlName="image">
        Image
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input-number formControlName="quantity"> Quantity </tui-input-number>
    </p>
    <p>
      <tui-input formControlName="status">
        Status
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input formControlName="categoryId">
        Category Id
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <button tuiButton type="submit" [disabled]="this.createForm.invalid">
        Create
      </button>
    </p>
  </form>
</ng-template>

<ng-template
  [tuiDialogOptions]="{ label: 'Update Item', size: 's' }"
  [(tuiDialog)]="this.openUpdateDialog"
>
  <form [formGroup]="updateForm" (ngSubmit)="update()">
    <p>
      <tui-input formControlName="id">
        Id
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input formControlName="name">
        Name
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input-number formControlName="price"> Price </tui-input-number>
    </p>
    <p>
      <tui-input formControlName="description">
        Description
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input formControlName="image">
        Image
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input-number formControlName="quantity"> Quantity </tui-input-number>
    </p>
    <p>
      <tui-input formControlName="status">
        Status
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <tui-input formControlName="categoryId">
        Category Id
        <input tuiTextfield type="text" />
      </tui-input>
    </p>
    <p>
      <button tuiButton type="submit" [disabled]="this.updateForm.invalid">
        Update
      </button>
    </p>
  </form>
</ng-template>
